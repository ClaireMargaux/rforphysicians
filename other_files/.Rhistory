# Load the merged_nhanes CSV file
merged_nhanes <- read.csv("/home/claire/Documents/GitHub/rforphysicians/data_sets/merged_nhanes.csv")
# Load the merged_nhanes_with_mort CSV file
merged_nhanes_with_mort <- read.csv("/home/claire/Documents/GitHub/rforphysicians/data_sets/merged_nhanes_with_mort.csv")
plot(merged_nhanes$RIDAGEYR)
boxplot(merged_nhanes$RIDAGEYR)
# We first define different age groups to compare them to each other
merged_nhanes %>%
filter(!is.na(RIDAGEYR)) %>%
mutate(age_group = cut(RIDAGEYR, breaks = seq(10, 80, 10)))
library(tidyverse)
# We first define different age groups to compare them to each other
merged_nhanes %>%
filter(!is.na(RIDAGEYR)) %>%
mutate(age_group = cut(RIDAGEYR, breaks = seq(10, 80, 10)))
unique(merged_nhanes$age_group)
# We first define different age groups to compare them to each other
merged_nhanes %>%
filter(!is.na(RIDAGEYR)) %>%
mutate(age_group = cut(RIDAGEYR, breaks = seq(10, 80, 10)))
# We first define different age groups to compare them to each other
merged_nhanes <- merged_nhanes %>%
mutate(AGE_GROUP = cut(RIDAGEYR, breaks = seq(10, 80, 10)))
unique(merged_nhanes$AGE_GROUP)
# Let us have a look at the mean BP values (1st reading) for those groups
merged_nhanes %>%
group_by(AGE_GROUP) %>%
summarise(
n = n(),
mean_BPXSY1 = mean(BPXSY1, na.rm = TRUE)
)
# Let us now test the means using a one-way ANOVA
oneway.test(BPXSY1 ~ AGE_GROUP, data = merged_nhanes)
# Let us have a look at the distributions of the BP values (1st reading) for those groups
ggplot(merged_nhanes, aes(x = AGE_GROUP, y = BPXSY1)) +
geom_boxplot(fill = "steelblue", alpha = 0.7) +
labs(
x = "Age Group",
y = "Systolic BP (BPXSY1)",
title = "Blood Pressure by Age Group"
) +
theme_minimal()
# Let us have a look at the distributions of the BP values (1st reading) for those groups
ggplot(merged_nhanes, aes(x = AGE_GROUP, y = BPXSY1)) +
geom_boxplot(fill = "steelblue", alpha = 0.7) +
labs(
x = "Age group",
y = "Systolic BP in mmHg",
title = "Blood pressure (1st reading) by age group"
) +
theme_minimal()
# Let us now test the distributions using a Kruskal-Wallis test
kruskal.test(BPXSY1 ~ AGE_GROUP, data = merged_nhanes)
